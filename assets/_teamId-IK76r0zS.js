import{T as $,j as e}from"./index-Ce9_BX_S.js";import{u as w,B,a as F,t as M,m as R}from"./BarChart-CkUOYQqR.js";import{H as o,S as m}from"./search-BSiZ9TQw.js";import{M as d}from"./main-BWSqpLnc.js";import{T as x,C as u,R as S,a as T,X as C,Y as L,b as P}from"./CartesianChart-DQ35CiBD.js";import{P as p}from"./profile-dropdown-CCuBEW7i.js";import{T as j}from"./theme-switch-YsJ0QmoE.js";import{C as h}from"./config-drawer-ByzAWlOt.js";import{S as n}from"./StatCard-ptFABKbc.js";import{H}from"./HeatmapPlaceholder-CQxA4azD.js";import{C as f,a as v,b as N,d as g}from"./card-BzSkDCOD.js";import{B as l}from"./badge-B-n4eMmw.js";import{T as y,_ as D,a as W,a0 as O}from"./confirm-dialog-BNfsFEbK.js";import{M as q}from"./map-pin-qFqVz_A5.js";import{C as U}from"./calendar-CAkFJkuv.js";import{T as _}from"./trending-up-B5wOKlCT.js";import{L as X,a as Y}from"./LineChart-CadVF6YI.js";import{U as E}from"./user-Btda9QD9.js";import"./separator-C8femHxl.js";import"./index-BB3tE0f9.js";import"./command-JDhRJK6D.js";import"./index-CYf7edWJ.js";import"./index-BQ8GMeTL.js";import"./index-DWB3PoGw.js";import"./index-gPGFWpse.js";import"./skeleton-BTowYilu.js";import"./sign-out-dialog-BVrKAIkp.js";import"./index-Cm_zU7As.js";import"./check-CrCzyUM1.js";import"./index-0YtqkmzY.js";import"./index-DYsWecWD.js";import"./index-CVnyutFg.js";import"./index-dDtIdWnn.js";import"./zap-CCJOcGZK.js";import"./index-B3zOVhnd.js";import"./ActivePoints-DGkl1mVn.js";function G(){const{teamId:t}=$({strict:!1}),{data:a,isLoading:k}=w({queryKey:["team",t],queryFn:()=>M.getById(t),enabled:!!t}),{data:A,isLoading:I}=w({queryKey:["team-matches",t],queryFn:()=>R.getByTeam(t),enabled:!!t}),i=a,K=a?[{metric:"Possession",value:a.stats.possession},{metric:"Territory",value:a.stats.territory},{metric:"Scrum Success",value:a.stats.scrumSuccess},{metric:"Lineout Success",value:a.stats.lineoutSuccess},{metric:"Discipline",value:a.stats.discipline}]:[],b=A?.map(s=>({date:s.date,opponent:s.homeTeamId===t?s.awayTeamId==="kabras-sugar"?"Kabras":s.awayTeamId==="kcb-rugby"?"KCB":s.awayTeamId==="menengai-oilers"?"Oilers":"Opponent":s.homeTeamId==="kabras-sugar"?"Kabras":s.homeTeamId==="kcb-rugby"?"KCB":s.homeTeamId==="menengai-oilers"?"Oilers":"Opponent",score:s.homeTeamId===t?`${s.homeScore}-${s.awayScore}`:`${s.awayScore}-${s.homeScore}`,result:s.homeTeamId===t?s.homeScore>s.awayScore?"W":s.homeScore===s.awayScore?"D":"L":s.awayScore>s.homeScore?"W":s.awayScore===s.homeScore?"D":"L",points:s.homeTeamId===t?s.homeScore>s.awayScore?4:s.homeScore===s.awayScore?2:0:s.awayScore>s.homeScore?4:s.awayScore===s.homeScore?2:0}))||[],c=[{title:"Overview",href:`/teams/${t}`,isActive:!0,disabled:!1},{title:"Players",href:`/teams/${t}/players`,isActive:!1,disabled:!0},{title:"Matches",href:`/teams/${t}/matches`,isActive:!1,disabled:!0},{title:"Statistics",href:`/teams/${t}/stats`,isActive:!1,disabled:!0}];return k?e.jsxs(e.Fragment,{children:[e.jsxs(o,{children:[e.jsx(x,{links:c}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(m,{}),e.jsx(j,{}),e.jsx(h,{}),e.jsx(p,{})]})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded w-1/3"}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((s,r)=>e.jsx("div",{className:"h-32 bg-muted animate-pulse rounded"},r))})]})})]}):a?e.jsxs(e.Fragment,{children:[e.jsxs(o,{children:[e.jsx(x,{links:c}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(m,{}),e.jsx(j,{}),e.jsx(h,{}),e.jsx(p,{})]})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white font-bold text-2xl",style:{backgroundColor:a.colors[0]},children:a.shortName.charAt(0)}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:a.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(q,{className:"w-4 h-4 mr-1"}),i?.location??"—"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(U,{className:"w-4 h-4 mr-1"}),"Founded ",i?.founded??"—"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(l,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),a.stats.points," Points"]}),e.jsxs(l,{variant:"outline",children:[a.stats.wins,"W - ",a.stats.losses,"L - ",a.stats.draws,"D"]}),e.jsxs(l,{variant:"outline",children:[a.stats.tries," Tries"]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsx(n,{title:"League Position",value:"#—",description:"Current standing",icon:y,variant:"success"}),e.jsx(n,{title:"Win Rate",value:`${Math.round(a.stats.wins/(a.stats.wins+a.stats.losses+a.stats.draws)*100)}%`,description:"This season",icon:_,variant:"default"}),e.jsx(n,{title:"Avg Possession",value:`${a.stats.possession}%`,description:"Ball control",icon:D,variant:"warning"}),e.jsx(n,{title:"Discipline",value:`${a.stats.discipline}%`,description:"Fair play rating",icon:W,variant:"default"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(u,{title:"Performance Metrics",description:"Key team statistics",children:e.jsx(S,{width:"100%",height:300,children:e.jsxs(B,{data:K,children:[e.jsx(T,{strokeDasharray:"3 3"}),e.jsx(C,{dataKey:"metric"}),e.jsx(L,{}),e.jsx(P,{}),e.jsx(F,{dataKey:"value",fill:"#3b82f6"})]})})}),e.jsx(u,{title:"Match Results Trend",description:"Recent performance",children:e.jsx(S,{width:"100%",height:300,children:e.jsxs(X,{data:b,children:[e.jsx(T,{strokeDasharray:"3 3"}),e.jsx(C,{dataKey:"date"}),e.jsx(L,{domain:[0,4]}),e.jsx(P,{}),e.jsx(Y,{type:"monotone",dataKey:"points",stroke:"#10b981",strokeWidth:2})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs(f,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center",children:[e.jsx(E,{className:"w-5 h-5 mr-2"}),"Team Leadership"]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Head Coach"}),e.jsx("span",{className:"font-medium",children:i?.coach??"—"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Captain"}),e.jsx("span",{className:"font-medium",children:i?.captain??"—"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Founded"}),e.jsx("span",{className:"font-medium",children:i?.founded??"—"})]})]})]}),e.jsxs(f,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center",children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Season Statistics"]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Tries"}),e.jsx("span",{className:"font-medium",children:a.stats.tries})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Penalties"}),e.jsx("span",{className:"font-medium",children:i?.stats.penalties??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Conversions"}),e.jsx("span",{className:"font-medium",children:i?.stats.conversions??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Scrum Success"}),e.jsxs("span",{className:"font-medium",children:[a.stats.scrumSuccess,"%"]})]})]})]}),e.jsxs(f,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center",children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"Performance"]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Possession"}),e.jsxs("span",{className:"font-medium",children:[a.stats.possession,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Territory"}),e.jsxs("span",{className:"font-medium",children:[a.stats.territory,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Lineout Success"}),e.jsxs("span",{className:"font-medium",children:[a.stats.lineoutSuccess,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Discipline"}),e.jsxs("span",{className:"font-medium",children:[a.stats.discipline,"%"]})]})]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx(H,{title:"Team Performance Heatmap",description:"Comprehensive performance analysis across key metrics",data:[{label:"Possession",value:a.stats.possession,max:100},{label:"Territory",value:a.stats.territory,max:100},{label:"Scrum Success",value:a.stats.scrumSuccess,max:100},{label:"Lineout Success",value:a.stats.lineoutSuccess,max:100},{label:"Discipline",value:a.stats.discipline,max:100},{label:"Try Scoring",value:a.stats.tries,max:50},{label:"Conversion Rate",value:i?.stats.conversions??0,max:50},{label:"Penalty Success",value:i?.stats.penalties??0,max:30}]})}),e.jsx("div",{children:e.jsx(u,{title:"Recent Matches",description:"Latest team performance",children:e.jsx("div",{className:"space-y-4",children:I?e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((s,r)=>e.jsx("div",{className:"h-16 bg-muted animate-pulse rounded"},r))}):e.jsx("div",{className:"space-y-3",children:b.slice(0,5).map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.date).toLocaleDateString()}),e.jsxs("div",{className:"font-medium",children:["vs ",s.opponent]}),e.jsx("div",{className:"text-sm",children:s.score})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{variant:s.result==="W"?"default":s.result==="D"?"secondary":"destructive",children:s.result}),e.jsxs("span",{className:"text-sm font-medium",children:[s.points," pts"]})]})]},r))})})})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(o,{children:[e.jsx(x,{links:c}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(m,{}),e.jsx(j,{}),e.jsx(h,{}),e.jsx(p,{})]})]}),e.jsx(d,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(y,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Team Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The team you're looking for doesn't exist or has been removed."})]})})]})}const Ae=G;export{Ae as component};
