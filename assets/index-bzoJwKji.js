import{b as v,j as s,a as x,U as g,B as b}from"./index-C22KB8A5.js";import{u as y,t as w}from"./api-YNFjK16R.js";import{H as T,S as C}from"./search-jbXtDmrq.js";import{M as P}from"./main-DSvbHowv.js";import{T as A,C as m}from"./ChartWrapper-BJwfaZ-i.js";import{P as k}from"./profile-dropdown-BzLLakcZ.js";import{T as S}from"./theme-switch-WqED_bbE.js";import{C as D}from"./config-drawer-CxsyRdhm.js";import{C as h,d as p,a as L,b as B}from"./card-luRS2wCt.js";import{B as K}from"./badge-BXut8YEw.js";import{M as j}from"./map-pin-DjeS4bGM.js";import{T as d,a as R}from"./confirm-dialog-D-gUGgit.js";import{U as F}from"./user-CGAArmt0.js";import{S as o}from"./StatCard-8wxNs86V.js";import{E as H}from"./EmptyState-RyPtvhw9.js";import{T as U}from"./trending-up-L-hPv9XV.js";import{R as f,C as $,X as M,Y as E,T as u}from"./CartesianChart-8ez0VJvl.js";import{B as W,a as N,C as q}from"./BarChart-BYLEeBLI.js";import{P as V,a as X}from"./PieChart-B0oqg2Ax.js";import"./separator-DLNdrQUA.js";import"./index-K0CF4-7r.js";import"./command-GdjA2G_9.js";import"./index-DMEjqNsi.js";import"./index-C5MpPVeL.js";import"./index-GbApRfxI.js";import"./index-DCvnARPH.js";import"./skeleton-7dcYx3uJ.js";import"./sign-out-dialog-7vQsWMcO.js";import"./index-CLQSkKpT.js";import"./check-zkGNd9Qd.js";import"./index-CMS-3C6m.js";import"./index-oiUGUvts.js";import"./index-DK9oz2iR.js";import"./index-D_sEnoJF.js";import"./index-DVPEY4Gs.js";function Y({team:a,showStats:l=!0,variant:r="default",className:n}){const c=v(),t=a,e=()=>{c({to:`/teams/${t.id}`})};return r==="compact"?s.jsx(h,{className:x("cursor-pointer transition-all hover:shadow-md hover:scale-[1.02]",n),onClick:e,children:s.jsx(p,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold",style:{backgroundColor:t.colors[0]},children:t.shortName.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[s.jsx(j,{className:"w-3 h-3 mr-1"}),t.location??"—"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-bold text-lg",children:t.stats.points}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Points"})]})]})})}):s.jsxs(h,{className:x("cursor-pointer transition-all hover:shadow-lg hover:scale-[1.02]",n),onClick:e,children:[s.jsx(L,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg",style:{backgroundColor:t.colors[0]},children:t.shortName.charAt(0)}),s.jsxs("div",{children:[s.jsx(B,{className:"text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[s.jsx(j,{className:"w-3 h-3 mr-1"}),t.location??"—"," • Founded ",t.founded??"—"]})]})]}),s.jsxs(K,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[s.jsx(d,{className:"w-3 h-3 mr-1"}),t.stats.points," pts"]})]})}),s.jsxs(p,{className:"space-y-4",children:[l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.stats.wins}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Wins"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.stats.losses}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Losses"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.stats.tries}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Tries"})]})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(F,{className:"w-3 h-3 mr-1"}),"Coach: ",t.coach??"—"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(g,{className:"w-3 h-3 mr-1"}),"Captain: ",t.captain??"—"]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[s.jsx("div",{className:"font-medium",children:"Possession"}),s.jsxs("div",{className:"text-green-600 font-bold",children:[t.stats.possession,"%"]})]}),s.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[s.jsx("div",{className:"font-medium",children:"Territory"}),s.jsxs("div",{className:"text-blue-600 font-bold",children:[t.stats.territory,"%"]})]})]})]}),s.jsx(b,{variant:"outline",size:"sm",className:"w-full",children:"View Team Details"})]})]})}function z(){const{data:a,isLoading:l}=y({queryKey:["teams"],queryFn:w.getAll}),r=a?{totalTeams:a.length,totalPoints:a.reduce((e,i)=>e+i.stats.points,0),totalTries:a.reduce((e,i)=>e+i.stats.tries,0),avgPossession:a.reduce((e,i)=>e+i.stats.possession,0)/a.length}:null,n=a?.map(e=>({name:e.shortName,possession:e.stats.possession,territory:e.stats.territory,tries:e.stats.tries}))||[],c=a?.map(e=>({name:e.shortName,value:e.stats.discipline,color:e.stats.discipline>=90?"#10b981":e.stats.discipline>=80?"#f59e0b":"#ef4444"}))||[],t=[{title:"Overview",href:"/teams",isActive:!0,disabled:!1},{title:"League Table",href:"/teams/table",isActive:!1,disabled:!1},{title:"Statistics",href:"/teams/stats",isActive:!1,disabled:!1},{title:"Head-to-Head",href:"/teams/head-to-head",isActive:!1,disabled:!1}];return s.jsxs(s.Fragment,{children:[s.jsxs(T,{children:[s.jsx(A,{links:t}),s.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[s.jsx(C,{}),s.jsx(S,{}),s.jsx(D,{}),s.jsx(k,{})]})]}),s.jsxs(P,{children:[s.jsx("div",{className:"mb-6 flex items-center justify-between space-y-2",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[s.jsx(d,{className:"w-8 h-8 mr-3 text-yellow-600"}),"Kenya Premier Rugby Teams"]}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive analytics and statistics for all premier league teams"})]})}),r&&s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-6",children:[s.jsx(o,{title:"Total Teams",value:r.totalTeams,description:"Premier League clubs",icon:g,variant:"default"}),s.jsx(o,{title:"Total Points",value:r.totalPoints,description:"League-wide points",icon:d,variant:"success"}),s.jsx(o,{title:"Total Tries",value:r.totalTries,description:"This season",icon:R,variant:"warning"}),s.jsx(o,{title:"Avg Possession",value:`${r.avgPossession.toFixed(1)}%`,description:"League average",icon:U,variant:"default"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsx(m,{title:"Possession & Territory",description:"Team performance metrics",isLoading:l,children:s.jsx(f,{width:"100%",height:300,children:s.jsxs(W,{data:n,children:[s.jsx($,{strokeDasharray:"3 3"}),s.jsx(M,{dataKey:"name"}),s.jsx(E,{}),s.jsx(u,{}),s.jsx(N,{dataKey:"possession",fill:"#3b82f6",name:"Possession %"}),s.jsx(N,{dataKey:"territory",fill:"#10b981",name:"Territory %"})]})})}),s.jsx(m,{title:"Discipline Rating",description:"Team discipline performance",isLoading:l,children:s.jsx(f,{width:"100%",height:300,children:s.jsxs(V,{children:[s.jsx(X,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,value:i})=>`${e}: ${i}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:c.map((e,i)=>s.jsx(q,{fill:e.color},`cell-${i}`))}),s.jsx(u,{})]})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Teams"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[a?.length||0," teams in the league"]})]}),l?s.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,i)=>s.jsx("div",{className:"h-64 bg-muted animate-pulse rounded-lg"},i))}):a&&a.length>0?s.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:a.map(e=>s.jsx(Y,{team:e},e.id))}):s.jsx(H,{icon:d,title:"No Teams Available",description:"Team data will be available once the backend is connected. Teams will appear here with their statistics and performance metrics.",actionLabel:"Refresh",onAction:()=>window.location.reload()})]}),s.jsx("div",{className:"mt-8",children:s.jsx(m,{title:"Team Performance Summary",description:"Key metrics for all teams",isLoading:l,children:a&&a.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-2",children:"Team"}),s.jsx("th",{className:"text-center p-2",children:"Points"}),s.jsx("th",{className:"text-center p-2",children:"W-L-D"}),s.jsx("th",{className:"text-center p-2",children:"Tries"}),s.jsx("th",{className:"text-center p-2",children:"Possession"}),s.jsx("th",{className:"text-center p-2",children:"Discipline"})]})}),s.jsx("tbody",{children:a.map(e=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:e.colors[0]},children:e.shortName.charAt(0)}),s.jsx("span",{className:"font-medium",children:e.shortName})]})}),s.jsx("td",{className:"text-center p-2 font-bold",children:e.stats.points}),s.jsxs("td",{className:"text-center p-2",children:[e.stats.wins,"-",e.stats.losses,"-",e.stats.draws]}),s.jsx("td",{className:"text-center p-2",children:e.stats.tries}),s.jsxs("td",{className:"text-center p-2",children:[e.stats.possession,"%"]}),s.jsxs("td",{className:"text-center p-2",children:[e.stats.discipline,"%"]})]},e.id))})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No team data available. Performance metrics will be displayed here once the backend is connected."})})})]})]})}const ks=z;export{ks as component};
