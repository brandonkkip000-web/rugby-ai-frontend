import{a0 as T,r as u,h as S,j as d,a1 as x,a as g,b as k,d as P}from"./index-C5bUiMoN.js";import{c as M,b as m}from"./index-B3nwBK0V.js";import{a as F}from"./index-CFaYthyZ.js";import{P as A}from"./index-KvgnjoTa.js";import{s as V}from"./index-DP7-5E0N.js";import{L as U}from"./confirm-dialog-BOYXPPiL.js";function D(t){return T({select:a=>t?.select?t.select(a.location):a.location})}const E="layout_collapsible",C="layout_variant",_=3600*24*7,f="inset",v="icon",y=u.createContext(null);function at({children:t}){const[a,n]=u.useState(()=>S(E)||v),[r,o]=u.useState(()=>S(C)||f),e=s=>{n(s),x(E,s,_)},i=s=>{o(s),x(C,s,_)},l={resetLayout:()=>{e(v),i(f)},defaultCollapsible:v,collapsible:a,setCollapsible:e,defaultVariant:f,variant:r,setVariant:i};return d.jsx(y,{value:l,children:t})}function et(){const t=u.useContext(y);if(!t)throw new Error("useLayout must be used within a LayoutProvider");return t}function K(){return V.useSyncExternalStore(Y,()=>!0,()=>!1)}function Y(){return()=>{}}var L="Avatar",[z]=M(L),[B,I]=z(L),b=u.forwardRef((t,a)=>{const{__scopeAvatar:n,...r}=t,[o,e]=u.useState("idle");return d.jsx(B,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:e,children:d.jsx(A.span,{...r,ref:a})})});b.displayName=L;var w="AvatarImage",N=u.forwardRef((t,a)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...e}=t,i=I(w,n),c=$(r,e),l=F(s=>{o(s),i.onImageLoadingStatusChange(s)});return m(()=>{c!=="idle"&&l(c)},[c,l]),c==="loaded"?d.jsx(A.img,{...e,ref:a,src:r}):null});N.displayName=w;var R="AvatarFallback",j=u.forwardRef((t,a)=>{const{__scopeAvatar:n,delayMs:r,...o}=t,e=I(R,n),[i,c]=u.useState(r===void 0);return u.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&e.imageLoadingStatus!=="loaded"?d.jsx(A.span,{...o,ref:a}):null});j.displayName=R;function h(t,a){return t?a?(t.src!==a&&(t.src=a),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $(t,{referrerPolicy:a,crossOrigin:n}){const r=K(),o=u.useRef(null),e=r?(o.current||(o.current=new window.Image),o.current):null,[i,c]=u.useState(()=>h(e,t));return m(()=>{c(h(e,t))},[e,t]),m(()=>{const l=O=>()=>{c(O)};if(!e)return;const s=l("loaded"),p=l("error");return e.addEventListener("load",s),e.addEventListener("error",p),a&&(e.referrerPolicy=a),typeof n=="string"&&(e.crossOrigin=n),()=>{e.removeEventListener("load",s),e.removeEventListener("error",p)}},[e,n,a]),i}var G=b,H=N,q=j;function rt({className:t,...a}){return d.jsx(G,{"data-slot":"avatar",className:g("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function nt({className:t,...a}){return d.jsx(H,{"data-slot":"avatar-image",className:g("aspect-square size-full",t),...a})}function ot({className:t,...a}){return d.jsx(q,{"data-slot":"avatar-fallback",className:g("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}function st({open:t,onOpenChange:a}){const n=k(),r=D(),{auth:o}=P(),e=()=>{o.reset();const i=r.href;n({to:"/sign-in",search:{redirect:i},replace:!0})};return d.jsx(U,{open:t,onOpenChange:a,title:"Sign out",desc:"Are you sure you want to sign out? You will need to sign in again to access your account.",confirmText:"Sign out",handleConfirm:e,className:"sm:max-w-sm"})}export{rt as A,at as L,st as S,nt as a,ot as b,et as c,D as u};
