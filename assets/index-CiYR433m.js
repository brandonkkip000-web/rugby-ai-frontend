import{r as p,j as e,A as w}from"./index-BgtvBRGf.js";import{u,t as X,p as Y,a as A}from"./api-DIk7UrRq.js";import{H as Z,S as I}from"./search-DglRIurn.js";import{M as Q}from"./main-d_GPWl8t.js";import{T as J,C as y}from"./ChartWrapper-BYHKPwW_.js";import{P as _}from"./profile-dropdown-BAc5XHbq.js";import{T as ee}from"./theme-switch-eUX3aC0i.js";import{C as se}from"./config-drawer-DZUQYysh.js";import{E as P}from"./EmptyState-DpKM3nYH.js";import{C as n,a as d,b as m,d as o}from"./card-CDsAIIRi.js";import{U as k,B as x}from"./badge-DbCQuX-C.js";import{S as g,a as v,b as N,c as b,d as T}from"./select-C9mV6Ekr.js";import{T as ae,a as te,b as K,c as q}from"./tabs-1hyyWopj.js";import{$ as re,T as D}from"./confirm-dialog-CaRuAnGJ.js";import{R as F,C as M,X as V,Y as W,T as B}from"./CartesianChart-BxNiztCm.js";import{B as R,a as C}from"./BarChart-DJba6Tg8.js";import"./separator-lS2Qk7Jt.js";import"./index-qmewPtB2.js";import"./command-BVU8mNj4.js";import"./index-Btcd1UxQ.js";import"./index-B1EiprqI.js";import"./index-CTpmkAEW.js";import"./index-BZtVLpBH.js";import"./skeleton-D3XW1XGL.js";import"./sign-out-dialog-CTv_OZ0k.js";import"./index-fH1w4Lo1.js";import"./check-Ba8BIwKx.js";import"./index-BONuZDO2.js";import"./index-B_hFkLWn.js";import"./index-CjmlO4x5.js";import"./index-CXaVXLLV.js";import"./index-DdCnAxqu.js";import"./chevron-down-OX6bJ_mn.js";function ie(){const[S,E]=p.useState("teams"),[l,G]=p.useState(""),[c,H]=p.useState(""),[h,L]=p.useState(""),[j,$]=p.useState(""),{data:i}=u({queryKey:["teams"],queryFn:X.getAll}),{data:f}=u({queryKey:["players"],queryFn:Y.getAll}),{data:a}=u({queryKey:["team-comparison",l,c],queryFn:()=>A.getTeamComparison(l,c),enabled:!!l&&!!c}),{data:t}=u({queryKey:["player-comparison",h,j],queryFn:()=>A.getPlayerComparison(h,j),enabled:!!h&&!!j}),z=[{title:"Team vs Team",href:"/comparisons?type=teams",isActive:S==="teams",disabled:!1},{title:"Player vs Player",href:"/comparisons?type=players",isActive:S==="players",disabled:!1},{title:"Advanced Analytics",href:"/comparisons/advanced",isActive:!1,disabled:!0}],O=a?[{metric:"Possession",team1:a.team1.stats.possession,team2:a.team2.stats.possession},{metric:"Territory",team1:a.team1.stats.territory,team2:a.team2.stats.territory},{metric:"Scrum Success",team1:a.team1.stats.scrumSuccess,team2:a.team2.stats.scrumSuccess},{metric:"Lineout Success",team1:a.team1.stats.lineoutSuccess,team2:a.team2.stats.lineoutSuccess},{metric:"Discipline",team1:a.team1.stats.discipline,team2:a.team2.stats.discipline}]:[],U=t?[{metric:"Tries",player1:t.player1.stats.tries,player2:t.player2.stats.tries},{metric:"Tackles",player1:t.player1.stats.tackles,player2:t.player2.stats.tackles},{metric:"Meters Gained",player1:t.player1.stats.metersGained,player2:t.player2.stats.metersGained},{metric:"Kicking Meters",player1:t.player1.stats.kickingMeters??0,player2:t.player2.stats.kickingMeters??0},{metric:"Lineouts Won",player1:t.player1.stats.lineoutsWon??0,player2:t.player2.stats.lineoutsWon??0}]:[];return e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:[e.jsx(J,{links:z}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(I,{}),e.jsx(ee,{}),e.jsx(se,{}),e.jsx(_,{})]})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"mb-6 flex items-center justify-between space-y-2",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[e.jsx(re,{className:"w-8 h-8 mr-3 text-green-600"}),"Team & Player Comparisons"]}),e.jsx("p",{className:"text-muted-foreground",children:"Compare teams and players with detailed analytics and insights"})]})}),e.jsxs(ae,{value:S,onValueChange:s=>E(s),className:"space-y-6",children:[e.jsxs(te,{className:"grid w-full grid-cols-2",children:[e.jsxs(K,{value:"teams",className:"flex items-center",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Team vs Team"]}),e.jsxs(K,{value:"players",className:"flex items-center",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Player vs Player"]})]}),e.jsxs(q,{value:"teams",className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(m,{children:"Select Teams to Compare"})}),e.jsx(o,{children:i&&i.length>0?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(g,{value:l,onValueChange:G,children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Select first team"})}),e.jsx(b,{children:i.map(s=>e.jsx(T,{value:s.id,children:s.name},s.id))})]})}),e.jsx(w,{className:"w-6 h-6 text-muted-foreground"}),e.jsx("div",{className:"flex-1",children:e.jsxs(g,{value:c,onValueChange:H,children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Select second team"})}),e.jsx(b,{children:i.map(s=>e.jsx(T,{value:s.id,children:s.name},s.id))})]})})]}):e.jsx(P,{icon:D,title:"No Teams Available",description:"Team data is required for comparisons. Teams will be available once the backend is connected."})})]}),a&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsx(d,{className:"text-center",children:e.jsxs(m,{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold",style:{backgroundColor:i?.find(s=>s.id===l)?.colors[0]},children:i?.find(s=>s.id===l)?.shortName.charAt(0)}),e.jsx("span",{children:a.team1.name})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.team1.stats.wins}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Wins"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.team1.stats.tries}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Tries"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(x,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[a.team1.stats.points," Points"]})})]})]}),e.jsxs(n,{children:[e.jsx(d,{className:"text-center",children:e.jsxs(m,{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold",style:{backgroundColor:i?.find(s=>s.id===c)?.colors[0]},children:i?.find(s=>s.id===c)?.shortName.charAt(0)}),e.jsx("span",{children:a.team2.name})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.team2.stats.wins}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Wins"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.team2.stats.tries}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Tries"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(x,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[a.team2.stats.points," Points"]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(y,{title:"Performance Comparison",description:"Side-by-side metrics comparison",children:e.jsx(F,{width:"100%",height:300,children:e.jsxs(R,{data:O,children:[e.jsx(M,{strokeDasharray:"3 3"}),e.jsx(V,{dataKey:"metric"}),e.jsx(W,{}),e.jsx(B,{}),e.jsx(C,{dataKey:"team1",fill:"#3b82f6",name:a.team1.name}),e.jsx(C,{dataKey:"team2",fill:"#10b981",name:a.team2.name})]})})}),e.jsx(y,{title:"Key Differences",description:"Advantages and disadvantages",children:e.jsx("div",{className:"space-y-4",children:Object.entries(a.comparison).map(([s,r])=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium capitalize",children:s.replace(/([A-Z])/g," $1")}),e.jsxs(x,{variant:r.difference>0?"default":"destructive",children:[r.difference>0?"+":"",r.difference.toFixed(1)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-muted-foreground",children:[a.team1.name,": "]}),e.jsx("span",{className:"font-medium",children:r.team1.toFixed(1)})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-muted-foreground",children:[a.team2.name,": "]}),e.jsx("span",{className:"font-medium",children:r.team2.toFixed(1)})]})]})]},s))})})]})]})]}),e.jsxs(q,{value:"players",className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(m,{children:"Select Players to Compare"})}),e.jsx(o,{children:f&&f.length>0?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(g,{value:h,onValueChange:L,children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Select first player"})}),e.jsx(b,{children:f.map(s=>e.jsxs(T,{value:s.id,children:[s.name," (",s.position,")"]},s.id))})]})}),e.jsx(w,{className:"w-6 h-6 text-muted-foreground"}),e.jsx("div",{className:"flex-1",children:e.jsxs(g,{value:j,onValueChange:$,children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Select second player"})}),e.jsx(b,{children:f.map(s=>e.jsxs(T,{value:s.id,children:[s.name," (",s.position,")"]},s.id))})]})})]}):e.jsx(P,{icon:k,title:"No Players Available",description:"Player data is required for comparisons. Players will be available once the backend is connected."})})]}),t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"text-center",children:[e.jsx(m,{children:t.player1.name}),e.jsx(x,{variant:"outline",children:t.player1.position})]}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.player1.stats.tries}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Tries"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.player1.stats.tackles}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Tackles"})]})]})})]}),e.jsxs(n,{children:[e.jsxs(d,{className:"text-center",children:[e.jsx(m,{children:t.player2.name}),e.jsx(x,{variant:"outline",children:t.player2.position})]}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.player2.stats.tries}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Tries"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.player2.stats.tackles}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Tackles"})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(y,{title:"Performance Comparison",description:"Side-by-side metrics comparison",children:e.jsx(F,{width:"100%",height:300,children:e.jsxs(R,{data:U,children:[e.jsx(M,{strokeDasharray:"3 3"}),e.jsx(V,{dataKey:"metric"}),e.jsx(W,{}),e.jsx(B,{}),e.jsx(C,{dataKey:"player1",fill:"#3b82f6",name:t.player1.name}),e.jsx(C,{dataKey:"player2",fill:"#10b981",name:t.player2.name})]})})}),e.jsx(y,{title:"Key Differences",description:"Advantages and disadvantages",children:e.jsx("div",{className:"space-y-4",children:Object.entries(t.comparison).map(([s,r])=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium capitalize",children:s.replace(/([A-Z])/g," $1")}),e.jsxs(x,{variant:r.difference>0?"default":"destructive",children:[r.difference>0?"+":"",r.difference]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-muted-foreground",children:[t.player1.name,": "]}),e.jsx("span",{className:"font-medium",children:r.player1})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-muted-foreground",children:[t.player2.name,": "]}),e.jsx("span",{className:"font-medium",children:r.player2})]})]})]},s))})})]})]})]})]})]})]})}const Ee=ie;export{Ee as component};
