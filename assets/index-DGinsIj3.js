import{b as v,j as e,a as x,U as g,B as b}from"./index-Ce9_BX_S.js";import{u as y,B as w,a as h,C as T,t as C}from"./BarChart-CkUOYQqR.js";import{H as P,S as A}from"./search-BSiZ9TQw.js";import{M as k}from"./main-BWSqpLnc.js";import{T as S,C as m,R as p,a as D,X as L,Y as B,b as j}from"./CartesianChart-DQ35CiBD.js";import{P as K}from"./profile-dropdown-CCuBEW7i.js";import{T as R}from"./theme-switch-YsJ0QmoE.js";import{C as F}from"./config-drawer-ByzAWlOt.js";import{C as f,d as u,a as H,b as U}from"./card-BzSkDCOD.js";import{B as $}from"./badge-B-n4eMmw.js";import{M as N}from"./map-pin-qFqVz_A5.js";import{T as d,a as M}from"./confirm-dialog-BNfsFEbK.js";import{U as E}from"./user-Btda9QD9.js";import{S as o}from"./StatCard-ptFABKbc.js";import{E as W}from"./EmptyState-BtOFc3js.js";import{T as q}from"./trending-up-B5wOKlCT.js";import{P as V,a as X}from"./PieChart-LzwOJq9L.js";import"./separator-C8femHxl.js";import"./index-BB3tE0f9.js";import"./command-JDhRJK6D.js";import"./index-CYf7edWJ.js";import"./index-BQ8GMeTL.js";import"./index-DWB3PoGw.js";import"./index-gPGFWpse.js";import"./skeleton-BTowYilu.js";import"./sign-out-dialog-BVrKAIkp.js";import"./index-Cm_zU7As.js";import"./check-CrCzyUM1.js";import"./index-0YtqkmzY.js";import"./index-DYsWecWD.js";import"./index-CVnyutFg.js";import"./index-dDtIdWnn.js";import"./index-B3zOVhnd.js";function Y({team:a,showStats:l=!0,variant:r="default",className:n}){const c=v(),t=a,s=()=>{c({to:`/teams/${t.id}`})};return r==="compact"?e.jsx(f,{className:x("cursor-pointer transition-all hover:shadow-md hover:scale-[1.02]",n),onClick:s,children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold",style:{backgroundColor:t.colors[0]},children:t.shortName.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:t.name}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[e.jsx(N,{className:"w-3 h-3 mr-1"}),t.location??"—"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-lg",children:t.stats.points}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Points"})]})]})})}):e.jsxs(f,{className:x("cursor-pointer transition-all hover:shadow-lg hover:scale-[1.02]",n),onClick:s,children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg",style:{backgroundColor:t.colors[0]},children:t.shortName.charAt(0)}),e.jsxs("div",{children:[e.jsx(U,{className:"text-lg",children:t.name}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[e.jsx(N,{className:"w-3 h-3 mr-1"}),t.location??"—"," • Founded ",t.founded??"—"]})]})]}),e.jsxs($,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[e.jsx(d,{className:"w-3 h-3 mr-1"}),t.stats.points," pts"]})]})}),e.jsxs(u,{className:"space-y-4",children:[l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.stats.wins}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Wins"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.stats.losses}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Losses"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.stats.tries}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Tries"})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),"Coach: ",t.coach??"—"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(g,{className:"w-3 h-3 mr-1"}),"Captain: ",t.captain??"—"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[e.jsx("div",{className:"font-medium",children:"Possession"}),e.jsxs("div",{className:"text-green-600 font-bold",children:[t.stats.possession,"%"]})]}),e.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[e.jsx("div",{className:"font-medium",children:"Territory"}),e.jsxs("div",{className:"text-blue-600 font-bold",children:[t.stats.territory,"%"]})]})]})]}),e.jsx(b,{variant:"outline",size:"sm",className:"w-full",children:"View Team Details"})]})]})}function z(){const{data:a,isLoading:l}=y({queryKey:["teams"],queryFn:C.getAll}),r=a?{totalTeams:a.length,totalPoints:a.reduce((s,i)=>s+i.stats.points,0),totalTries:a.reduce((s,i)=>s+i.stats.tries,0),avgPossession:a.reduce((s,i)=>s+i.stats.possession,0)/a.length}:null,n=a?.map(s=>({name:s.shortName,possession:s.stats.possession,territory:s.stats.territory,tries:s.stats.tries}))||[],c=a?.map(s=>({name:s.shortName,value:s.stats.discipline,color:s.stats.discipline>=90?"#10b981":s.stats.discipline>=80?"#f59e0b":"#ef4444"}))||[],t=[{title:"Overview",href:"/teams",isActive:!0,disabled:!1},{title:"League Table",href:"/teams/table",isActive:!1,disabled:!0},{title:"Statistics",href:"/teams/stats",isActive:!1,disabled:!0},{title:"Head-to-Head",href:"/teams/head-to-head",isActive:!1,disabled:!0}];return e.jsxs(e.Fragment,{children:[e.jsxs(P,{children:[e.jsx(S,{links:t}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(A,{}),e.jsx(R,{}),e.jsx(F,{}),e.jsx(K,{})]})]}),e.jsxs(k,{children:[e.jsx("div",{className:"mb-6 flex items-center justify-between space-y-2",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[e.jsx(d,{className:"w-8 h-8 mr-3 text-yellow-600"}),"Kenya Premier Rugby Teams"]}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive analytics and statistics for all premier league teams"})]})}),r&&e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-6",children:[e.jsx(o,{title:"Total Teams",value:r.totalTeams,description:"Premier League clubs",icon:g,variant:"default"}),e.jsx(o,{title:"Total Points",value:r.totalPoints,description:"League-wide points",icon:d,variant:"success"}),e.jsx(o,{title:"Total Tries",value:r.totalTries,description:"This season",icon:M,variant:"warning"}),e.jsx(o,{title:"Avg Possession",value:`${r.avgPossession.toFixed(1)}%`,description:"League average",icon:q,variant:"default"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(m,{title:"Possession & Territory",description:"Team performance metrics",isLoading:l,children:e.jsx(p,{width:"100%",height:300,children:e.jsxs(w,{data:n,children:[e.jsx(D,{strokeDasharray:"3 3"}),e.jsx(L,{dataKey:"name"}),e.jsx(B,{}),e.jsx(j,{}),e.jsx(h,{dataKey:"possession",fill:"#3b82f6",name:"Possession %"}),e.jsx(h,{dataKey:"territory",fill:"#10b981",name:"Territory %"})]})})}),e.jsx(m,{title:"Discipline Rating",description:"Team discipline performance",isLoading:l,children:e.jsx(p,{width:"100%",height:300,children:e.jsxs(V,{children:[e.jsx(X,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:i})=>`${s}: ${i}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:c.map((s,i)=>e.jsx(T,{fill:s.color},`cell-${i}`))}),e.jsx(j,{})]})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Teams"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[a?.length||0," teams in the league"]})]}),l?e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((s,i)=>e.jsx("div",{className:"h-64 bg-muted animate-pulse rounded-lg"},i))}):a&&a.length>0?e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:a.map(s=>e.jsx(Y,{team:s},s.id))}):e.jsx(W,{icon:d,title:"No Teams Available",description:"Team data will be available once the backend is connected. Teams will appear here with their statistics and performance metrics.",actionLabel:"Refresh",onAction:()=>window.location.reload()})]}),e.jsx("div",{className:"mt-8",children:e.jsx(m,{title:"Team Performance Summary",description:"Key metrics for all teams",isLoading:l,children:a&&a.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Team"}),e.jsx("th",{className:"text-center p-2",children:"Points"}),e.jsx("th",{className:"text-center p-2",children:"W-L-D"}),e.jsx("th",{className:"text-center p-2",children:"Tries"}),e.jsx("th",{className:"text-center p-2",children:"Possession"}),e.jsx("th",{className:"text-center p-2",children:"Discipline"})]})}),e.jsx("tbody",{children:a.map(s=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:s.colors[0]},children:s.shortName.charAt(0)}),e.jsx("span",{className:"font-medium",children:s.shortName})]})}),e.jsx("td",{className:"text-center p-2 font-bold",children:s.stats.points}),e.jsxs("td",{className:"text-center p-2",children:[s.stats.wins,"-",s.stats.losses,"-",s.stats.draws]}),e.jsx("td",{className:"text-center p-2",children:s.stats.tries}),e.jsxs("td",{className:"text-center p-2",children:[s.stats.possession,"%"]}),e.jsxs("td",{className:"text-center p-2",children:[s.stats.discipline,"%"]})]},s.id))})]})}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No team data available. Performance metrics will be displayed here once the backend is connected."})})})]})]})}const Pe=z;export{Pe as component};
