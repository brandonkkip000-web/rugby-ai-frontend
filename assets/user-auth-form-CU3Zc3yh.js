import{c as k,j as e,b as l,S as R,r as h,d as P,f as A,o as L,B as d,L as U,A as E,t as p,_ as M,s as B,e as T,g as _}from"./index-D1c3E869.js";import{u as H,a as O,F as G,b,c as y,d as N,e as v,f as w}from"./form-S5u1apMK.js";import{I as V}from"./icon-facebook-nEJPzZJz.js";import{I as $}from"./icon-github-B75Nj-y3.js";import{I as z}from"./input-CjecFVMI.js";import{P as D}from"./password-input-BywF1eNY.js";import{C as K,a as W,b as Y,c as q,d as J}from"./card-CksWryyz.js";import{U as Q,B as g}from"./badge-CVStcqZR.js";import{U as X}from"./user-2W5hpDMq.js";import{L as Z}from"./loader-circle-DXgNF0PH.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],se=k("heart",ee);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],te=k("log-in",ae),j={admin:["Full system access","Manage all teams and players","Edit match results","Access advanced analytics","User management","System configuration"],coach:["Team management","Player performance tracking","Match strategy analysis","Team-specific insights","Player statistics access"],player:["Personal statistics","Team information","Performance tracking","Match schedules"],fan:["View team standings","Player statistics","Match results","Basic comparisons"]},re={admin:R,coach:Q,player:X,fan:se},S={admin:"bg-red-100 text-red-800 border-red-200",coach:"bg-blue-100 text-blue-800 border-blue-200",player:"bg-green-100 text-green-800 border-green-200",fan:"bg-purple-100 text-purple-800 border-purple-200"};function ne({selectedRole:r,onRoleSelect:m,className:u}){const n=["admin","coach","player","fan"];return e.jsxs("div",{className:l("space-y-4",u),children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Select Your Role"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose the role that best describes your relationship with Kenya Rugby Analytics"})]}),e.jsx("div",{className:"grid gap-3",children:n.map(s=>{const a=re[s],c=r===s;return e.jsxs(K,{className:l("cursor-pointer transition-all hover:shadow-md",c&&"ring-2 ring-primary"),onClick:()=>m(s),children:[e.jsx(W,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:l("p-2 rounded-full",S[s]),children:e.jsx(a,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx(Y,{className:"text-base capitalize",children:s}),e.jsxs(q,{className:"text-xs",children:[s==="admin"&&"System Administrator",s==="coach"&&"Team Coach",s==="player"&&"Rugby Player",s==="fan"&&"Rugby Enthusiast"]})]})]}),e.jsx(g,{variant:c?"default":"outline",className:l("text-xs",c&&S[s]),children:c?"Selected":"Select"})]})}),e.jsx(J,{className:"pt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Capabilities:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[j[s].slice(0,3).map((x,i)=>e.jsx(g,{variant:"secondary",className:"text-xs",children:x},i)),j[s].length>3&&e.jsxs(g,{variant:"secondary",className:"text-xs",children:["+",j[s].length-3," more"]})]})]})})]},s)})})]})}const ce=L({email:T({error:r=>r.input===""?"Please enter your email":void 0}),password:B().min(1,"Please enter your password").min(7,"Password must be at least 7 characters long"),role:M(["admin","coach","player","fan"])});function fe({className:r,redirectTo:m,...u}){const[n,s]=h.useState(!1),[a,c]=h.useState(null),[x,i]=h.useState(!1),C=P(),{auth:f}=A(),o=H({resolver:O(ce),defaultValues:{email:"",password:"",role:void 0}});function F(t){if(!a){i(!0);return}s(!0);const I={accountNo:"ACC001",email:t.email,role:[a],exp:Date.now()+1440*60*1e3};p.promise(_(2e3),{loading:"Signing in...",success:()=>(s(!1),f.setUser(I),f.setAccessToken("mock-access-token"),C({to:m||"/",replace:!0}),`Welcome back, ${t.email}! (${a})`),error:"Error"})}return x?e.jsxs("div",{className:l("space-y-6",r),children:[e.jsx(ne,{selectedRole:a,onRoleSelect:t=>{c(t),o.setValue("role",t),i(!1)}}),e.jsx(d,{variant:"outline",onClick:()=>i(!1),className:"w-full",children:"Back to Login"})]}):e.jsx(G,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(F),className:l("grid gap-3",r),...u,children:[e.jsx(b,{control:o.control,name:"email",render:({field:t})=>e.jsxs(y,{children:[e.jsx(N,{children:"Email"}),e.jsx(v,{children:e.jsx(z,{placeholder:"name@example.com",...t})}),e.jsx(w,{})]})}),e.jsx(b,{control:o.control,name:"password",render:({field:t})=>e.jsxs(y,{className:"relative",children:[e.jsx(N,{children:"Password"}),e.jsx(v,{children:e.jsx(D,{placeholder:"********",...t})}),e.jsx(w,{}),e.jsx(U,{to:"/forgot-password",className:"text-muted-foreground absolute end-0 -top-0.5 text-sm font-medium hover:opacity-75",children:"Forgot password?"})]})}),a&&e.jsx("div",{className:"p-3 bg-muted rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Selected Role:"}),e.jsx("span",{className:"text-sm capitalize bg-primary text-primary-foreground px-2 py-1 rounded",children:a})]})}),e.jsx(d,{className:"mt-2",disabled:n,type:a?"submit":"button",onClick:a?void 0:()=>i(!0),children:n?e.jsx(Z,{className:"animate-spin"}):a?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2"}),"Sign in"]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2"}),"Select Role & Continue"]})}),e.jsxs("div",{className:"relative my-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background text-muted-foreground px-2",children:"Or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(d,{variant:"outline",type:"button",disabled:n,onClick:()=>{p.info("GitHub login will be implemented with backend OAuth")},children:[e.jsx($,{className:"h-4 w-4"})," GitHub"]}),e.jsxs(d,{variant:"outline",type:"button",disabled:n,onClick:()=>{p.info("Facebook login will be implemented with backend OAuth")},children:[e.jsx(V,{className:"h-4 w-4"})," Facebook"]})]})]})})}export{fe as U};
